{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\15103\\\\Desktop\\\\frontend_flags\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\15103\\\\Desktop\\\\frontend_flags\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\15103\\\\Desktop\\\\frontend_flags\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from\"react\";export var GetCountryInfo=createContext();export default function CountryContextProvider(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),countries=_useState4[0],setCountries=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),countryNames=_useState6[0],setCountryName=_useState6[1];function getCountryInfo(){return _getCountryInfo.apply(this,arguments);}function _getCountryInfo(){_getCountryInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://restcountries.eu/rest/v2/all\");case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setCountries(data);setCountryName(data.map(function(country){return{name:country.name,code:country.alph3Code};}));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:_context.prev=14;setLoading(false);return _context.finish(14);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,11,14,17]]);}));return _getCountryInfo.apply(this,arguments);}useEffect(function(){setLoading(true);getCountryInfo();},[]);return/*#__PURE__*/React.createElement(GetCountryInfo.Provider,{value:{countries:countries,countryNames:countryNames,setCountries:setCountries,getCountryInfo:getCountryInfo,loading:loading,setLoading:setLoading}},props.children);}","map":{"version":3,"sources":["C:/Users/15103/Desktop/frontend_flags/src/components/GetCountryInfo.js"],"names":["React","createContext","useState","useEffect","GetCountryInfo","CountryContextProvider","props","loading","setLoading","countries","setCountries","countryNames","setCountryName","getCountryInfo","fetch","res","json","data","map","country","name","code","alph3Code","console","log","children"],"mappings":"4eAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAGH,aAAa,EAApC,CAEP,cAAe,SAASI,CAAAA,sBAAT,CAAgCC,KAAhC,CAAuC,eACtBJ,QAAQ,CAAC,IAAD,CADc,wCAC7CK,OAD6C,eACpCC,UADoC,8BAElBN,QAAQ,CAAC,EAAD,CAFU,yCAE7CO,SAF6C,eAElCC,YAFkC,8BAGbR,QAAQ,CAAC,EAAD,CAHK,yCAG7CS,YAH6C,eAG/BC,cAH+B,uBAKrCC,CAAAA,cALqC,oJAKpD,sLAEsBC,CAAAA,KAAK,CAAC,sCAAD,CAF3B,QAEUC,GAFV,qCAGuBA,CAAAA,GAAG,CAACC,IAAJ,EAHvB,QAGUC,IAHV,eAIIP,YAAY,CAACO,IAAD,CAAZ,CACAL,cAAc,CACZK,IAAI,CAACC,GAAL,CAAS,SAACC,OAAD,CAAa,CACpB,MAAO,CACLC,IAAI,CAAED,OAAO,CAACC,IADT,CAELC,IAAI,CAAEF,OAAO,CAACG,SAFT,CAAP,CAID,CALD,CADY,CAAd,CALJ,iFAcIC,OAAO,CAACC,GAAR,cAdJ,yBAgBIhB,UAAU,CAAC,KAAD,CAAV,CAhBJ,sGALoD,iDAyBpDL,SAAS,CAAC,UAAM,CACdK,UAAU,CAAC,IAAD,CAAV,CACAK,cAAc,GACf,CAHQ,CAGN,EAHM,CAAT,CAIA,mBACE,oBAAC,cAAD,CAAgB,QAAhB,EACE,KAAK,CAAE,CACLJ,SAAS,CAATA,SADK,CAELE,YAAY,CAAZA,YAFK,CAGLD,YAAY,CAAZA,YAHK,CAILG,cAAc,CAAdA,cAJK,CAKLN,OAAO,CAAPA,OALK,CAMLC,UAAU,CAAVA,UANK,CADT,EAUGF,KAAK,CAACmB,QAVT,CADF,CAcD","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const GetCountryInfo = createContext();\r\n\r\nexport default function CountryContextProvider(props) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [countries, setCountries] = useState([]);\r\n  const [countryNames, setCountryName] = useState([]);\r\n\r\n  async function getCountryInfo() {\r\n    try {\r\n      const res = await fetch(\"https://restcountries.eu/rest/v2/all\");\r\n      const data = await res.json();\r\n      setCountries(data);\r\n      setCountryName(\r\n        data.map((country) => {\r\n          return {\r\n            name: country.name,\r\n            code: country.alph3Code,\r\n          };\r\n        })\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getCountryInfo();\r\n  }, []);\r\n  return (\r\n    <GetCountryInfo.Provider\r\n      value={{\r\n        countries,\r\n        countryNames,\r\n        setCountries,\r\n        getCountryInfo,\r\n        loading,\r\n        setLoading,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </GetCountryInfo.Provider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}